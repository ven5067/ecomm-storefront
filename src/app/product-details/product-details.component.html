<div class="container" style="margin-top: 100px;">

    <a [routerLink]="['/']" routerLinkActive="router-link-active"> Products </a> <br><br>

    <h3>{{ product.name }}</h3><br>
    <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="quantity">Quantity</label>
            <input class="form-control" name="quantity" id="quantity" type="text" formControlName="quantity">
        </div>
        <div class="form-group">
            <label for="zipcode">Zipcode</label>
            <input id="typeahead-basic" type="text" class="form-control" [ngbTypeahead]="search"
                formControlName="zipcode" />
        </div>
        <!-- <div formArrayName="customFields" *ngFor="let field of product.customFields; let i = index;">
            <div [formGroupName]="i" class="form-group">
                <label for="{{field.fieldName}}">{{ field.label }}</label>
                <input class="form-control" name="{{field.fieldName}}" id="{{field.field}}" type="text"
                    formControlName="value">
            </div>
        </div> -->

        <div [ngSwitch]="product.productType">
            <div *ngSwitchCase="'1'">
                <app-product-type-one [productForm]="productForm" [product]="product"></app-product-type-one>
            </div>
            <div *ngSwitchCase="'2'">
                <app-product-type-two [productForm]="productForm" [product]="product"></app-product-type-two>
            </div>
        </div>

        <button type="submit" class="btn btn-primary" [disabled]="!productForm.valid">Add to cart</button>
    </form>

</div>